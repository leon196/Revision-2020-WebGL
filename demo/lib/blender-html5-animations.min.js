/**
 * Blender HTML5 Animations 1.0.2
 * Copyright 2016 Jonathan Giroux
 * MIT licence
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("gl-matrix")):"function"==typeof define&&define.amd?define(["gl-matrix"],e):"object"==typeof exports?exports.blenderHTML5Animations=e(require("gl-matrix")):t.blenderHTML5Animations=e(t.window)}(this,function(t){return function(t){function e(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";t.exports.Action=a(1),t.exports.ActionLibrary=a(9),t.exports.FCurve=a(4),t.exports.FCurveArray=a(3),t.exports.Keyframe=a(7),t.exports.Marker=a(8)},function(t,e,a){"use strict";function r(t){function e(t){t&&(a.startTime=Math.min(a.startTime,t.keyframes[0].time),a.endTime=Math.max(a.endTime,t.keyframes[t.keyframes.length-1].time))}var a=this;this.startTime=+(1/0),this.endTime=-(1/0),this.paths={};for(var r in t[0]){var n=new u(t[0][r]);this.paths[r]=n,n.forEach(e)}this.markers=t.length>1?t[1].map(function(t){return new c(t)}):[]}var n=a(2),i=n.glMatrix,s=n.mat4,o=n.vec3,u=a(3),c=a(8);r.RotationMode={QUATERNION:0,EULER_XYZ:1,EULER_YXZ:3,EULER_XZY:2,EULER_ZXY:5,EULER_YZX:4,EULER_ZYX:6,AXIS_ANGLE:-1},r.prototype.forEachMarker=function(t,e,a){return this.markers.forEach(function(r,n){if(r.time>=t&&r.time<e)return a(r,n)})};var l=new i.ARRAY_TYPE(16);r.prototype.toWorld=function(t,e,a){function n(){i=o.fromValues(0,0,0),[c.rotation_euler,c.delta_rotation_euler].forEach(function(t){t&&o.add(i,i,t.evaluate(e,u.DefaultValues.ROTATION))})}s.identity(t);var i,c=this.paths,f=o.fromValues(0,0,0);switch([c.location,c.delta_location].forEach(function(t){t&&o.add(f,f,t.evaluate(e,u.DefaultValues.LOCATION))}),s.translate(t,t,f),a){case r.RotationMode.QUATERNION:[c.rotation_quaternion,c.delta_rotation_quaternion].forEach(function(a){a&&(s.fromQuat(l,a.evaluate(e,u.DefaultValues.ROTATION_QUATERNION)),s.multiply(t,t,l))});break;case r.RotationMode.EULER_XYZ:n(),s.rotateZ(t,t,i[2]),s.rotateY(t,t,i[1]),s.rotateX(t,t,i[0]);break;case r.RotationMode.EULER_XZY:n(),s.rotateY(t,t,i[1]),s.rotateZ(t,t,i[2]),s.rotateX(t,t,i[0]);break;case r.RotationMode.EULER_YXZ:n(),s.rotateZ(t,t,i[2]),s.rotateX(t,t,i[0]),s.rotateY(t,t,i[1]);break;case r.RotationMode.EULER_YZX:n(),s.rotateX(t,t,i[0]),s.rotateZ(t,t,i[2]),s.rotateY(t,t,i[1]);break;case r.RotationMode.EULER_ZXY:n(),s.rotateY(t,t,i[1]),s.rotateX(t,t,i[0]),s.rotateZ(t,t,i[2]);break;case r.RotationMode.EULER_ZYX:n(),s.rotateX(t,t,i[0]),s.rotateY(t,t,i[1]),s.rotateZ(t,t,i[2]);break;case r.RotationMode.AXIS_ANGLE:if(c.rotation_axis){var E=c.rotation_axis.evaluate(e,u.DefaultValues.ROTATION);s.rotate(t,t,E[3],E)}}var p=o.fromValues(1,1,1);return[c.scale,c.delta_scale].forEach(function(t){t&&o.multiply(p,p,t.evaluate(e,u.DefaultValues.SCALE))}),s.scale(t,t,p),t},r.prototype.toLocal=function(t,e,a){return this.toWorld(t,e,a),s.invert(t,t),t},r.prototype.setElementTransform=function(t,e,a){var r=new i.ARRAY_TYPE(16);this.toWorld(r,e,a);var n="matrix3d("+r.join(",")+")";["transform","mozTransform","oTransform","webkitTransform"].forEach(function(e){t.style[e]=n})},t.exports=r},function(e,a){e.exports=t},function(t,e,a){"use strict";function r(t){var e=t.map(function(t){return t&&new n(t)});return e.evaluate=function(t,a){return e.map(function(e,r){return e?e.evaluate(t):a(r,t)})},e}var n=a(4);r.DefaultValues={LOCATION:function(){return 0},ROTATION:function(){return 0},ROTATION_QUATERNION:function(t){return 3===t?1:0},SCALE:function(){return 1}},t.exports=r},function(t,e,a){"use strict";function r(t){this.keyframes=t[0].map(function(t){return new o(t)}),this.extrapolation=t[1]}function n(t,e){return Math.abs(t-e)<=r.evaluationTimeEpsilon}var i=a(5),s=a(6),o=a(7);r.Extrapolation={CONSTANT:0,LINEAR:1},r.evaluationTimeEpsilon=1e-4,r.prototype.evaluate=function(t){var e=0,a=this.keyframes[e];if(n(t,a.time))return a.value;if(t<=a.time)switch(this.extrapolation){case r.Extrapolation.LINEAR:return a.value+(a.leftValue-a.value)*(t-a.time)/(a.leftTime-a.time);default:return a.value}var u=this.keyframes.length-1,c=this.keyframes[u];if(n(t,c.time))return c.value;if(t>=c.time)switch(this.extrapolation){case r.Extrapolation.LINEAR:return c.value+(c.rightValue-c.value)*(t-c.time)/(c.rightTime-c.time);default:return c.value}for(;u-e>1;){var l=(e+u)/2|0;this.keyframes[l].time>=t?u=l:e=l}if(a=this.keyframes[e],n(t,a.time))return a.value;if(c=this.keyframes[u],n(t,c.time))return c.value;var f=t-a.time,E=a.value,p=c.time-a.time,I=c.value-a.value;switch(a.interpolation){case o.Interpolation.BACK:switch(a.easing){case o.Easing.IN:return s.backEaseIn(f,E,I,p,a.overshoot);case o.Easing.IN_OUT:return s.backEaseInOut(f,E,I,p,a.overshoot);default:return s.backEaseOut(f,E,I,p,a.overshoot)}break;case o.Interpolation.BEZIER:return i(t,a,c);case o.Interpolation.BOUNCE:switch(a.easing){case o.Easing.IN:return s.bounceEaseIn(f,E,I,p);case o.Easing.IN_OUT:return s.bounceEaseInOut(f,E,I,p);default:return s.bounceEaseOut(f,E,I,p)}break;case o.Interpolation.CIRCULAR:switch(a.easing){case o.Easing.OUT:return s.circularEaseOut(f,E,I,p);case o.Easing.IN_OUT:return s.circularEaseInOut(f,E,I,p);default:return s.circularEaseIn(f,E,I,p)}break;case o.Interpolation.CUBIC:switch(a.easing){case o.Easing.OUT:return s.cubicEaseOut(f,E,I,p);case o.Easing.IN_OUT:return s.cubicEaseInOut(f,E,I,p);default:return s.cubicEaseIn(f,E,I,p)}break;case o.Interpolation.ELASTIC:switch(a.easing){case o.Easing.IN:return s.elasticEaseIn(f,E,I,p);case o.Easing.IN_OUT:return s.elasticEaseInOut(f,E,I,p);default:return s.elasticEaseOut(f,E,I,p,a.amplitude,a.period)}break;case o.Interpolation.EXPONENTIAL:switch(a.easing){case o.Easing.OUT:return s.exponentialEaseOut(f,E,I,p);case o.Keyframe.Easing.IN_OUT:return s.exponentialEaseInOut(f,E,I,p);default:return s.exponentialEaseIn(f,E,I,p)}break;case o.Interpolation.LINEAR:return s.linear(f,E,I,p);case o.Interpolation.QUADRATIC:switch(a.easing){case o.Easing.OUT:return s.quadraticEaseOut(f,E,I,p);case o.Easing.IN_OUT:return s.quadraticEaseInOut(f,E,I,p);default:return s.quadraticEaseIn(f,E,I,p)}break;case o.Interpolation.QUARTIC:switch(a.easing){case o.Easing.OUT:return s.quarticEaseOut(f,E,I,p);case o.Easing.IN_OUT:return s.quarticEaseInOut(f,E,I,p);default:return s.quarticEaseIn(f,E,I,p)}break;case o.Interpolation.QUINTIC:switch(a.easing){case o.Easing.OUT:return s.quinticEaseOut(f,E,I,p);case o.Easing.IN_OUT:return s.quinticEaseInOut(f,E,I,p);default:return s.quinticEaseIn(f,E,I,p)}break;case o.Interpolation.SINUSOIDAL:switch(a.easing){case o.Easing.OUT:return s.sinusoidalEaseOut(f,E,I,p);case o.Easing.IN_OUT:return s.sinusoidalEaseInOut(f,E,I,p);default:return s.sinusoidalEaseIn(f,E,I,p)}break;default:return E}},t.exports=r},function(t,e){"use strict";function a(t,e,a,r,n){var i=1-n;return i*i*i*t+3*i*i*n*e+3*i*n*n*a+n*n*n*r}function r(t,e,r){var n=e.time,i=e.value,s=e.rightTime,o=e.rightValue,u=r.leftTime,c=r.leftValue,l=r.time,f=r.value,E=s-n,p=l-u,I=l-n;if(E+p>I){var h=o-i,O=f-c,m=I/(E+p);s=n+m*E,o=i+m*h,u=l-m*p,c=f-m*O}var x,T,d=0,v=1;do x=(d+v)/2,T=a(n,s,u,l,x),T>t?v=x:d=x;while(Math.abs(T-t)>.01);return a(i,o,c,f,x)}t.exports=r},function(t,e){"use strict";function a(t,e,a,r,n){return t/=r,a*t*t*((n+1)*t-n)+e}function r(t,e,a,r,n){return t=t/r-1,a*(t*t*((n+1)*t+n)+1)+e}function n(t,e,a,r,n){return n*=1.525,(t/=r/2)<1?a/2*(t*t*((n+1)*t-n))+e:(t-=2,a/2*(t*t*((n+1)*t+n)+2)+e)}function i(t,e,a,r){return t/=r,t<1/2.75?a*(7.5625*t*t)+e:t<2/2.75?(t-=1.5/2.75,a*(7.5625*t*t+.75)+e):t<2.5/2.75?(t-=2.25/2.75,a*(7.5625*t*t+.9375)+e):(t-=2.625/2.75,a*(7.5625*t*t+.984375)+e)}function s(t,e,a,r){return a-i(r-t,0,a,r)+e}function o(t,e,a,r){return t<r/2?.5*s(2*t,0,a,r)+e:.5*i(2*t-r,0,a,r)+.5*a+e}function u(t,e,a,r){return t/=r,-a*(Math.sqrt(1-t*t)-1)+e}function c(t,e,a,r){return t=t/r-1,a*Math.sqrt(1-t*t)+e}function l(t,e,a,r){return(t/=r/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+e:(t-=2,a/2*(Math.sqrt(1-t*t)+1)+e)}function f(t,e,a,r){return t/=r,a*t*t*t+e}function E(t,e,a,r){return t=t/r-1,a*(t*t*t+1)+e}function p(t,e,a,r){return(t/=r/2)<1?a/2*t*t*t+e:(t-=2,a/2*(t*t*t+2)+e)}function I(t,e,a,r,n,i){if(e){var s=Math.abs(n);r?i*=r/Math.abs(e):i=0;var o=Math.abs(t*a);if(o<s){var u=o/s;i=i*u+(1-u)}}return i}function h(t,e,a,r,n,i){var s,o=1;return t<=0?e:(t/=r)>=1?e+a:(t-=1,i||(i=.3*r),!n||n<Math.abs(a)?(s=i/4,o=I(t,a,r,n,s,o),n=a):s=i/(2*Math.PI)*Math.asin(a/n),-o*(n*Math.pow(2,10*t)*Math.sin((t*r-s)*(2*Math.PI)/i))+e)}function O(t,e,a,r,n,i){var s,o=1;return t<=0?e:(t/=r)>=1?e+a:(t=-t,i||(i=.3*r),!n||n<Math.abs(a)?(s=i/4,o=I(t,a,r,n,s,o),n=a):s=i/(2*Math.PI)*Math.asin(a/n),o*(n*Math.pow(2,10*t)*Math.sin((t*r-s)*(2*Math.PI)/i))+a+e)}function m(t,e,a,r,n,i){var s,o=1;return t<=0?e:(t/=r/2)>=2?e+a:(t-=1,i||(i=r*(.3*1.5)),!n||n<Math.abs(a)?(s=i/4,o=I(t,a,r,n,s,o),n=a):s=i/(2*Math.PI)*Math.asin(a/n),t<0?(o*=-.5,o*(n*Math.pow(2,10*t)*Math.sin((t*r-s)*(2*Math.PI)/i))+e):(t=-t,o*=.5,o*(n*Math.pow(2,10*t)*Math.sin((t*r-s)*(2*Math.PI)/i))+a+e))}function x(t,e,a,r){return t<=0?e:a*Math.pow(2,10*(t/r-1))+e}function T(t,e,a,r){return t>=r?e+a:a*(-Math.pow(2,-10*t/r)+1)+e}function d(t,e,a,r){return t<=0?e:t>=r?e+a:(t/=r/2)<1?a/2*Math.pow(2,10*(t-1))+e:(t-=1,a/2*(-Math.pow(2,-10*t)+2)+e)}function v(t,e,a,r){return a*t/r+e}function M(t,e,a,r){return t/=r,a*t*t+e}function N(t,e,a,r){return t/=r,-a*t*(t-2)+e}function b(t,e,a,r){return(t/=r/2)<1?a/2*t*t+e:(t-=1,-a/2*(t*(t-2)-1)+e)}function A(t,e,a,r){return t/=r,a*t*t*t*t+e}function U(t,e,a,r){return t=t/r-1,-a*(t*t*t*t-1)+e}function R(t,e,a,r){return(t/=r/2)<1?a/2*t*t*t*t+e:(t-=2,-a/2*(t*t*t*t-2)+e)}function g(t,e,a,r){return t/=r,a*t*t*t*t*t+e}function _(t,e,a,r){return t=t/r-1,a*(t*t*t*t*t+1)+e}function k(t,e,a,r){return(t/=r/2)<1?a/2*t*t*t*t*t+e:(t-=2,a/2*(t*t*t*t*t+2)+e)}function L(t,e,a,r){return-a*Math.cos(t/r*Math.PI/2)+a+e}function w(t,e,a,r){return a*Math.sin(t/r*Math.PI/2)+e}function C(t,e,a,r){return-a/2*(Math.cos(Math.PI*t/r)-1)+e}t.exports.backEaseIn=a,t.exports.backEaseOut=r,t.exports.backEaseInOut=n,t.exports.bounceEaseOut=i,t.exports.bounceEaseIn=s,t.exports.bounceEaseInOut=o,t.exports.circularEaseIn=u,t.exports.circularEaseOut=c,t.exports.circularEaseInOut=l,t.exports.cubicEaseIn=f,t.exports.cubicEaseOut=E,t.exports.cubicEaseInOut=p,t.exports.elasticEaseIn=h,t.exports.elasticEaseOut=O,t.exports.elasticEaseInOut=m,t.exports.exponentialEaseIn=x,t.exports.exponentialEaseOut=T,t.exports.exponentialEaseInOut=d,t.exports.linear=v,t.exports.quadraticEaseIn=M,t.exports.quadraticEaseOut=N,t.exports.quadraticEaseInOut=b,t.exports.quarticEaseIn=A,t.exports.quarticEaseOut=U,t.exports.quarticEaseInOut=R,t.exports.quinticEaseIn=g,t.exports.quinticEaseOut=_,t.exports.quinticEaseInOut=k,t.exports.sinusoidalEaseIn=L,t.exports.sinusoidalEaseOut=w,t.exports.sinusoidalEaseInOut=C},function(t,e){"use strict";function a(t){this.time=t[0],this.value=t[1],this.leftTime=t[2],this.leftValue=t[3],this.rightTime=t[4],this.rightValue=t[5],this.interpolation=t[6],this.easing=t[7],this.overshoot=t[8],this.amplitude=t[8],this.period=t[9]}a.Easing={AUTO:0,IN:1,OUT:2,IN_OUT:3},a.Interpolation={CONSTANT:0,LINEAR:1,BEZIER:2,BACK:3,BOUNCE:4,CIRCULAR:5,CUBIC:6,ELASTIC:7,EXPONENTIAL:8,QUADRATIC:9,QUARTIC:10,QUINTIC:11,SINUSOIDAL:12},t.exports=a},function(t,e){"use strict";function a(t){this.time=t[0],this.name=t[1]}t.exports=a},function(t,e,a){"use strict";function r(t){for(var e in t)this[e]=new n(t[e])}var n=a(1);t.exports=r}])});